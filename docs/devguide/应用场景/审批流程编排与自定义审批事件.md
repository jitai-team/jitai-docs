---
sidebar_position: 8
---

# 审批流程编排与自定义审批事件
在采购审批场景中，采购申请发起后进入审批流程，先由直属经理审批，若金额超过阈值再进入财务审批；流程完成后根据审批结果更新“审批状态”。

## 创建一个数据表模型用于存储采购单数据
使用[数据模型](/docs/reference/开发框架/JitORM/数据模型.md)存储采购单信息，在后续审批流程中，将使用该模型中的数据，审批人可以看到采购单信息。

![创建采购单模型](./img/jitworkflow/创建采购单模型.png)


## 创建采购审批流程
在创建审批流程时选择刚才创建的模型。

![创建审批流程](./img/jitworkflow/创建审批流程.png)

## 拖拽配置审批流程
在画布中添加审批节点、分支节点，并完成连线。

配置审批节点

![配置审批节点](./img/jitworkflow/配置审批节点.png)

配置分支节点

![配置分支节点](./img/jitworkflow/配置分支节点.png)

配置完成的审批流程

![配置好的审批流程](./img/jitworkflow/配置好的审批流程.png)

## 新增采购单时自动发起审批流程
新建一个模型事件，当新增采购单时，自动发起审批流程。

![新增采购单自动触发审批流程](./img/jitworkflow/新增采购单自动触发审批流程.png)

## 审批状态变更时触发自定义逻辑

新建一个审批事件，当审批状态变更时触发自定义的业务逻辑。

![审批事件](./img/jitworkflow/审批事件.png)

相关文档：[业务实体建模与数据分析](./业务实体建模与数据分析.md)
