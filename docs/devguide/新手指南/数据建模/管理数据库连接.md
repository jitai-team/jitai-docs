---
sidebar_position: 2
---

# 管理数据库连接

在极态云中，数据库通过“数据库”元素统一管理。你可以在同一应用里创建多个数据库实例，并且分别配置、切换和使用，满足开发、测试、生产或多系统对接等不同场景。

## 创建数据库连接

在目标应用打开“开发区门户”，打开左侧“元素目录树”面板，选择“数据库”元素。接着选择要接入的数据库（如 MySQL、PostgreSQL、Oracle、SQL Server、达梦、SQLite 等），系统会弹出连接配置窗口，你只需要把主机、端口、库名、账号、密码等信息按提示填写完整即可。生产环境建议把账号和密码等敏感信息放到环境变量里，部署时再注入，既安全也方便跨环境迁移，参考 [数据库连接安全配置](#数据库连接安全配置)
。

![](./img/创建数据库元素.gif)

## 多数据库连接管理

一个应用支持同时接入多个数据库实例，这在“归档库”“日志库”“报表库”或者“对接外部系统”的场景里很常见。创建好不同的数据库元素后，你可以在数据模型里指定要使用的那个实例。
![](img/%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%83%E7%B4%A0%E6%AD%A5%E9%AA%A43_1.png)

## 数据库连接安全配置

1.  连接信息不要直接写进源码仓库，尤其是账号和密码。更推荐的方式是，在运行环境里维护环境变量，然后在部署时注入到应用中。
点击在连接参数右上方，切换为环境变量，弹出环境变量配置面板。
![定义环境变量.png](img/%E5%AE%9A%E4%B9%89%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png)
![创建环境变量.png](img/%E5%88%9B%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png)
2. 数据库侧也尽量使用“最小权限原则”，只给到需要的库、表和操作权限。生产与测试严格分离，并优先使用内网或 VPC 专线进行访问，避免对公网暴露服务端口。

## 连接测试与故障排查

在数据库元素配置页面，点击“测试连接”按钮，如果连接失败。先从基础信息排查：主机和端口是否正确、防火墙和白名单是否放行、账号密码是否匹配、目标库是否存在。偶发超时或连接不稳定，通常与网络质量或数据库负载有关，可以适当调小或调大连接池相关参数来观察。
![测试数据库连接.png](img/%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5.png)



