---
title: "为什么 AI 原生开发需要“结构优先”：从代码编写到架构定义的范式重构"
seoTitle: "AI作为架构师：JitAI引领的结构优先范式变革"
date: 2026/01/26
authors: []
tags: []
slug: ai-native-architecture-structure-first-development
keywords:
    [
        AI原生开发、软件架构、JitAI、JAAP协议、结构优先开发、AI智能体、低代码、企业AI、生成式AI编程,
    ]
description: "代码优先的AI存在局限。探索软件架构领域的“结构优先”范式变革。了解JitAI与JAAP协议如何赋能原生AI开发。"
---

软件工程的演进史，本质上是一部抽象的历史。我们从汇编语言中操作内存地址，演进到在 Java 中定义对象，再到云端编排微服务。今天，我们正在见证下一个根本性的转变：**AI 原生开发（AI-Native Development）**。这不仅仅是利用 AI 进行代码补全，而是从“人类编写代码”向“人类定义结构，AI 填充逻辑”的过渡。

对于高级开发者和架构师而言，这一范式转变要求重新思考协作的边界。当生成逻辑的成本降至近乎为零时，架构定义——即“结构（Structure）”——的价值将呈指数级增长。

<!--truncate-->

## 范式转变：结构优先（Structure-First）开发

在传统的开发范式中，工程师既要负责宏观架构（结构），也要负责微观实现（过程）。我们定义数据库 Schema，然后费力地编写 CRUD 接口、验证逻辑和错误处理代码。

AI 原生开发颠覆了这一工作负载。它提出系统由 **结构（Structure） + 流程（Process）** 组成：

- **结构（Structure）**：实体、关系、权限和状态定义。这是应用程序的“意图”。
- **流程（Process）**：特定的执行序列、算法和数据转换。

在 AI 原生工作流中，人类架构师几乎完全专注于**结构**。你定义系统是什么——“一个客户拥有多个订单，订单需要审批”——而 AI Agent 在理解这一结构上下文的基础上，生成实现这一目标所需的**流程**。

### 为什么“代码优先”限制了 AI

当前的 AI 编程助手（如 Copilot）将代码视为文本。它们基于有限的上下文窗口预测下一个 Token，缺乏对系统“物理特性”的整体理解——即数据模型、权限角色和业务流之间严格的关联关系。

这导致了“上下文鸿沟（Context Gap）”：

1.  **幻觉（Hallucination）**：AI 虚构了不存在的 API，因为它不“知道”项目的实际结构。
2.  **退化（Regression）**：AI 修复了一个函数，却破坏了其他地方的依赖。
3.  **样板疲劳（Boilerplate Fatigue）**：人类仍需审查并将零散的逻辑片段粘贴在一起。

真正的 AI 辅助软件架构要求系统结构是**显式且机器可读的**，而不是埋藏在数千行命令式代码中。

## JitAI 如何解决这一问题

JitAI 通过将\*\*应用结构（Application Structure）\*\*提升为一等公民，从根本上改变了工程方程。AI 不再是猜测代码的外部插件，JitAI 提供了一套确定性的协议（JAAP），允许 AI 直接理解和操作应用结构。

![image.png](image.png)

### 1. JAAP 协议：人机通用语言

JitAI 构建于 **JitAi 应用协议（JAAP）** 之上。JAAP 充当业务逻辑的“操作系统”，抽象了底层技术栈的复杂性。

- **人类角色**：通过可视化工具或配置定义元素（模型、服务、页面）。
- **AI 角色**：由于 JAAP 提供了结构化、自描述的应用定义，AI Agent 可以“看见”整个系统。它确切地知道“订单”模型中存在哪些字段，“支付服务”中有哪些可用函数。

### 2. 长了“手”的 AI Agents（工具集成）

在 JitAI 中，AI Agent 不是被动的聊天机器人。它们集成在运行时环境中，可以直接访问系统工具。

- **全栈感知**：Agent 可以将**模型函数（Model Functions）**、**服务函数（Service Functions）和外部 API** 作为原生工具调用。
- **ReAct 架构**：JitAI 的 Agent 使用推理与行动（ReAct）循环。它们能分析用户请求，决定使用哪个工具（例如“查询客户表”），执行它，观察输出，并修正下一步行动。

### 3. 编排与编程双模式

JitAI 支持双模式开发方法。你使用**可视化编排**来定义结构流（“骨架”），使用**编程**（或 AI 生成）来处理复杂的算法逻辑（“肌肉”）。这确保了 AI 在经过验证的结构边界内运行，防止其臆造不可能的架构。

## 实施手册：采用结构优先开发

要让你的团队过渡到这种工作流，可以遵循以下 4 步执行计划：

### 第一步：定义领域模型（结构）

停止编写 SQL 或迁移脚本，使用可视化建模器定义你的实体。

- **行动**：创建一个“产品”模型和一个“库存”模型。
- **JitAI 上下文**：使用 **数据表模型（Data Table Models）** 可视化地定义字段和关系。系统会自动处理数据库 Schema。
- **收益**：AI 现在拥有了你数据的权威“字典”。

### 第二步：定义服务边界（能力）

先不要写方法体。定义接口。

- **行动**：创建一个 `InventoryService`，包含函数签名 `deductStock(productId, quantity)`。
- **JitAI 上下文**：在 **服务元素（Service Elements）** 中定义这些内容。你需要填充 `functionList`，这充当了 AI 的 API 契约。

### 第三步：AI 填充逻辑（流程）

现在，委托实现细节。

- **行动**：向 AI 提示：“实现 deductStock。检查产品模型中是否存在库存。如果充足，扣减数值并记录交易。否则，抛出错误。”
- **JitAI 上下文**：AI Agent 能够访问你在第一步中创建的产品模型定义，生成操作数据的精确 Python 逻辑，并使用内置平台 API（如 `app.getElement`）。

### 第四步：编排流程（Agent）

将这些原子能力组合成智能工作流。

- **行动**：创建一个负责“订单处理”的 AI Agent。
- **JitAI 上下文**：为该 Agent 配备你刚刚制作的 `deductStock` 工具。现在，Agent 可以自主处理复杂的用户请求（如“我想买 5 个 X 商品”），动态处理逻辑。

## 对比：传统开发 vs AI 原生开发

| **特性**      | **传统开发**        | **AI 原生开发 (JitAI)** |
| ------------- | ------------------- | ----------------------- |
| **主要产物**  | 基于文本的代码文件  | **结构化元素 (JAAP)**   |
| **AI 上下文** | 本地文件 / 文本窗口 | **全系统结构 & 元数据** |
| **开发重点**  | 逻辑实现            | **实体 & 关系定义**     |
| **工具集成**  | 硬编码 API 调用     | **Agent 动态工具选择**  |
| **维护方式**  | 重构文本代码        | **修改可视化结构**      |

## 如何验证与复现

你可以使用 JitAI 桌面版验证“结构优先”的效率：

1.  **下载** JitNode Desktop 并本地安装。
2.  **创建“题库”应用**：不写代码，使用“简易模式（Easy Mode）”可视化定义“问题”和“答案”数据模型。
3.  **生成逻辑**：打开“评分”函数的逻辑编辑器。使用内置 AI 提示：“比较用户答案与标准答案并计算得分”。
4.  **观察**：注意 AI 会自动使用正确的字段名称（如 `question_content`, `correct_answer`），因为它们是在结构层定义的。AI 不会产生不存在的列名幻觉。

## 常见问题 (FAQ)

Q: 结构优先意味着我不能写代码了吗？

A: 不是。你随时可以下沉到“全代码（Full Code）”模式。在 JitAI 中，每个可视化元素背后都有可访问的源代码（例如后端的 Python，前端的 React），你可以直接编辑。

Q: AI 怎么知道如何使用我的自定义业务逻辑？

A: 当你在 JitAI 中定义 服务函数（Service Function） 时，会将其添加到 functionList 中。这相当于工具注册。AI Agent 读取此元数据以理解函数的功能、参数以及何时调用它。

Q: 这是否局限于简单的 CRUD 应用？

A: 不是。通过解耦结构与流程，你可以构建复杂的企业级系统（ERP, CRM）。结构处理数据完整性和权限，而 Agent 和服务函数处理复杂的计算与集成。

Q: 我可以集成现有的数据库吗？

A: 可以。JitAI 支持直接从现有数据库 Schema（MySQL, PostgreSQL, Oracle 等）生成 数据表模型，即刻将遗留数据带入 AI 原生的结构定义中。

## 结语

软件架构师的角色正在从“建筑工匠”演变为“城市规划师”。我们不再需要铺设每一块砖（编写每一行代码）。我们的工作是规划区域（定义结构）并设定规则（权限和逻辑规则）。

通过采用像 JitAI 这样的 AI 原生平台，你赋予了团队在更高抽象层级上运作的能力。你定义结构，AI 处理实现。这就是企业开发的未来。
